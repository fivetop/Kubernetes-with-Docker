#### 1. 도커의 기초 - https://github.com/skarltjr/Memory_Write_Record/issues/21
- https://www.itworld.co.kr/news/203644
- "도커는 컨테이너에서 애플리케이션을 실행하고 운영할 수 있도록 하는 플랫폼이다."
#### 2. 서버를 구축하는 방식
   - 크게 2가지의 방식이 존재한다
      1) on-premise = 자체적으로 데이터센터나 서버실을 운영하는 것
      2) 클라우드 = 클라우드 사업자 ( aws , gcp , azuer...)등을 사용하는 방식
      - 서비스 환경에 따라 선택
#### 3. 서버 구축방식의 비교   // 하늘색 부분은 사용자 혹은 관리자가 직접 작업을 해야하는 파트
##### ✔︎  onpremise
![화면 캡처 2021-08-04 213718](https://user-images.githubusercontent.com/62214428/128181857-08bf9d89-7d98-4332-b4dc-9d3e0800fcbb.png)
   - 많은 파트를 직접 작업해야한다.
   - 따라서 서버의 규모가 커질수록 기업이 부담해야하는 부분이 기하급수적으로 증가한다.

##### ✔︎  cloud  // 주황색 부분이 클라우드 사업자에서 담당, 처리해주는 파트
   - 1. iaas / infra as a service
     - ex) aws의 ec2
     - ![화면 캡처 2021-08-04 214028](https://user-images.githubusercontent.com/62214428/128182252-284ade73-6bb1-4957-b29b-d3e144a53845.png)
   - 2. paas / platform as a service
     - ![화면 캡처 2021-08-04 214312](https://user-images.githubusercontent.com/62214428/128182661-fc726c8f-cb60-4ce6-86b3-83b503ceda4f.png)
   - 3. saas / software as a service
     - ![화면 캡처 2021-08-04 214451](https://user-images.githubusercontent.com/62214428/128182847-96ae9e31-303e-405c-92f7-99c06f3c2e13.png)

 
- 이렇게 다양한 방법의 서버 구축방식이 존재한다.
- 그러나 서비스는 유저가 많아지고 서비스가 성장, 고도화되면서 필연적으로 이주( migration )가 필요하다. 
- ✔︎ 이러한 이유로 바로 Docker가 급부상하게 된 것
- ✔︎ 도커는 컨테이너 기반으로 실행 -> 어느 환경으로 이주하든 의존성에 영향을 받지 않고 migration이 가능하다!  
- ✔︎ 즉 이식성!이 높다.
- 
------------------

#### ✔︎ 도커와 VM(가상머신)의 가장 큰 차이는 무엇인가?
- ![화면 캡처 2021-08-04 215521](https://user-images.githubusercontent.com/62214428/128184309-3aa3ec76-c2b8-4f03-ba61-dd2d14460435.png)
- 컨테이너는 가상머신과 마찬가지로 애플리케이션을 관련 라이브러리 및 종속 항목과 함께 패키지로 묶어 소프트웨어 서비스 구동을 위한 격리 환경을 마련해 준다.
- 그러나 이 때 가상머신은 개별 어플리케이션마다 os가 별도로 실행된다. 당연히 그만큼 자원이 소모되며 속도,성능이 저하된다.
- ✔︎ 도커는 어플리케이션이 요구하는 환경✔︎을 만들어주는 것이지 가상의 컴퓨터 환경을 구축하는것이 아니다. -> vm보다 가볍고 뛰어난 성능

-------------------

#### ✔︎ 컨테이너와 MSA / microservice architecture
- 컴퓨터는 CPU, SSD, RAM, 그래픽 카드 등 각종 하드웨어로 구성되어 있다. 그리고 윈도우, macOS, 리눅스와 같은 운영체제 위에서 어플리케이션이 실행. 만약에 도입하려는 어플리케이션이나 플랫폼이 서로 다른 요구사항을 가진다면? 더불어, 성능에도 부정적인 영향을 끼치지 않아야 한다면?

- 컨테이너가 바로 그 해결책. Host OS에 어플리케이션을 실행할 공간을 각각 구성하고 IP와 디렉토리는 분리시켜 놓은 것을 **컨테이너**. !!!컨테이너는 Guest OS를 두지 않고!!! 어플리케이션과 미들웨어를 실행. 

- 각 컨테이너에는 어플리케이션 별로 요구하는 환경을 배타적으로 세팅할 수 있으며, 구성된 컨테이너를 통합해 하나의 큰 시스템을 구축할 수 있다. 이를 **MSA(Microservice Architecture)**. MSA는 어플리케이션을 기능과 용도에 따라 모듈화하여 개발하고 이를 독립적으로 배포할 수 있는 환경을 지향.

----------------


### ✔︎ 도커의 역할
![화면 캡처 2021-08-04 220726](https://user-images.githubusercontent.com/62214428/128186041-ba86a1a7-038b-499a-8a2c-59f3b42d57aa.png)
- nginx / spring boot / db  - 웹 서비스의 3요소 웹서버 / was / db
- 이렇게 3요소를 활용하여 서비스를 구축하려고하는 상황
- 이 때 이 3요소 각각을 위한 독립적인 환경을 구성하면서 동시에 유기적인 결합을 이뤄내기 위해선?
- 도커를 통해 어플리케이션( nginx, spring boot, db )을 실행하는데 필요한 각 요소들을 묶어 하나의 이미지를 생성. 여기선 그럼 각각 1개의 이미지로 만들어 총 3개의 이미지가 생성
   - 즉 1. nginx를 실행하기 위한 환경이 a라는 이미지로 생성
   - 2. spring boot를 실행하기 위한 환경이 b라는 이미지로
   - db ... c라는 이미지로 생성.
   - 이렇게 생성된 이미지는 레지스트리 = 이미지저장소( 도커허브 )에 저장되는데 만약 로컬에 이미지가 없으면 이 레지스트리에서 찾아 내려받는다.


-  ✔︎ 그래서 도커가 도대체 어떤 역할을 하는가?
   - 일반적인 서비스 배포 과정
   - 개발을 하고~ 테스트도 마치고~ 스테이징 단계를 거쳐 배포를 했더니 운영단계에서 에러가 터짐
   - ![화면 캡처 2021-08-04 221744](https://user-images.githubusercontent.com/62214428/128187739-346e7e39-7189-47c4-9462-314bf375c501.png)
#### 근본적으로 각 단계의 환경이 모두 동일하다는것을 보장할 수 있는가? x 
   - 도커는 기본적으로 이미지를 기반으로 컨테이너를 구성한다
   - 이 이미지를 생성할 때 어플리케이션을 실행하기 위한 환경에 대해 모두 정의되어있다.
   - ![화면 캡처 2021-08-04 222211](https://user-images.githubusercontent.com/62214428/128188531-e2a7cf1b-756f-49e1-80f9-ec65dc94473f.png)
##### 즉 도커는 각 단계에서 서로 다른 환경으로인해 발생하는 문제들을 방지할 수 있다.
