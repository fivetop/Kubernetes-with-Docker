## TLS 인증서를 활용한 유저 생성하기
- openssl을 사용

###  1. 개인키 생성
- `openssl genrsa -out <키이름>.key 2048`
- ![화면 캡처 2021-12-17 141316](https://user-images.githubusercontent.com/62214428/146492548-45d39663-a1e3-491b-8315-021b8647e715.png)

### 2. csr 생성
- `openssl req -new -key kiseok.key -out kiseok.csr -subj "/CN=kiseok/O=myproject"`
- 혹시나 .rnd ( 랜덤 시드 ) 문제가 나면 그냥 `echo test > /root/.rnd`처럼 하나 간단하게 만들어줘라
```
CN: 사용자 이름
O: 그룹 이름
CA에게 csr 파일로 인증을 요청할 수 있음!
````
### 3. csr을 사용해 CA 권한으로 전자서명해 CRT 발급
- `openssl x509 -req -in kiseok.csr -CA /etc/kubernetes/pki/ca.crt -CAkey /etc/kubernetes/pki/ca.key -CAcreateserial -out kiseok.crt -days 365`
```
원래는 csr을 관리자CA한테 넘겨주고 승인받아서 crt를 발급받는데 지금 상황에선 내가 다 하는걸로
```

### 4. csr은 더이상 필요하지 않으므로 삭제
- `rm kiseok.csr` 



























